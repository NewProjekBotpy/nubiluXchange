# ============================================
# REQUIRED ENVIRONMENT VARIABLES (CRITICAL)
# ============================================

# Database Connection - SUPABASE
# Get from Supabase Dashboard > Settings > Database > Connection String (Direct)
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-ap-southeast-1.pooler.supabase.com:5432/postgres
# IMPORTANT: Use the "Direct" connection string, not the "Pooling" one for better compatibility
DATABASE_URL="postgresql://postgres:password@host:port/postgres"

# Session Secret (REQUIRED)
# Generate with: openssl rand -hex 32
SESSION_SECRET="your-secure-session-secret-here-generate-with-openssl-rand-hex-32"

# JWT Secret (REQUIRED)
# Generate with: openssl rand -hex 32
JWT_SECRET="your-secure-jwt-secret-here-generate-with-openssl-rand-hex-32"

# ============================================
# REQUIRED FOR PRODUCTION: SECURITY
# ============================================

# TOTP Encryption Key (REQUIRED IN PRODUCTION)
# Encrypts 2FA TOTP secrets in database using AES-256-GCM
# CRITICAL: Without this key, 2FA secrets are stored in PLAINTEXT (security vulnerability)
# Generate with: openssl rand -hex 32
# Minimum length: 32 characters
# IMPORTANT: Never commit this key to version control. Rotate periodically.
TOTP_ENCRYPTION_KEY="your-totp-encryption-key-here-generate-with-openssl-rand-hex-32"

# ============================================
# OPTIONAL: ERROR MONITORING & LOGGING
# ============================================

# Sentry DSN for error tracking (optional)
# Get from: https://sentry.io/settings/projects/
# SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# Application Environment
NODE_ENV="development"

# ============================================
# RECOMMENDED FOR PRODUCTION: REDIS CACHING & SCALING
# ============================================

# Redis Configuration (HIGHLY RECOMMENDED for production)
# Benefits:
# - Background job processing (async email, notifications, exports)
# - Chat message caching for better performance
# - Session storage scaling across multiple servers
# - Rate limiting data sharing
# - FYP (For You Page) algorithm caching
# 
# Without Redis:
# - Background jobs run synchronously (slower response times)
# - No cross-server chat scaling
# - Limited caching capabilities
#
# Local development: redis://localhost:6379
# Production (Upstash): redis://:password@host:port
# Production (Redis Cloud): rediss://:password@host:port (SSL)
REDIS_URL="redis://localhost:6379"

# Alternative: Enable Redis flag (if REDIS_URL not set)
# ENABLE_REDIS="true"

# ============================================
# OPTIONAL: AI INTEGRATION
# ============================================

# OpenAI API Key for AI features
# OPENAI_API_KEY="sk-your-openai-api-key"

# DeepSeek API Key (alternative AI provider)
# DEEPSEEK_API_KEY="your-deepseek-api-key"

# Google Cloud Vision API Key (for image analysis)
# GOOGLE_CLOUD_API_KEY="your-google-cloud-api-key"

# ============================================
# OPTIONAL: CLOUD STORAGE (Cloudinary)
# ============================================

# CLOUDINARY_CLOUD_NAME="your-cloud-name"
# CLOUDINARY_API_KEY="your-api-key"
# CLOUDINARY_API_SECRET="your-api-secret"

# ============================================
# OPTIONAL: PAYMENT PROCESSING (Midtrans)
# ============================================

# MIDTRANS_SERVER_KEY="your-server-key"
# MIDTRANS_CLIENT_KEY="your-client-key"

# ============================================
# OPTIONAL: SMS ALERTS (Twilio)
# ============================================

# TWILIO_ACCOUNT_SID="your-account-sid"
# TWILIO_AUTH_TOKEN="your-auth-token"
# TWILIO_FROM_PHONE="+1234567890"

# ============================================
# OPTIONAL: PUSH NOTIFICATIONS (Web Push)
# ============================================

# Generate VAPID keys with: npx web-push generate-vapid-keys
# VAPID_PUBLIC_KEY="your-public-vapid-key"
# VAPID_PRIVATE_KEY="your-private-vapid-key"

# ============================================
# OPTIONAL: BACKUP CONFIGURATION
# ============================================

# BACKUP_ENABLED="true"
# BACKUP_SCHEDULE="0 2 * * *"
# BACKUP_RETENTION_DAYS="30"
# BACKUP_COMPRESSION_LEVEL="6"
# BACKUP_INCLUDE_BLOBS="true"
# BACKUP_MAX_SIZE_MB="1000"
# BACKUP_DIR="./backups"
# BACKUP_CLEANUP_SCHEDULE="0 3 * * 0"
# BACKUP_TIMEZONE="UTC"

# ============================================
# OPTIONAL: FRONTEND URLS & CORS
# ============================================

# FRONTEND_URL="http://localhost:5000"
# PRODUCTION_URL="https://your-domain.com"

# CORS Configuration (comma-separated list of allowed domains)
# ALLOWED_DOMAINS="your-app.com,app.example.com"
# CORS_ORIGINS="your-app.com,app.example.com"
